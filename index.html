<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì„¸ì»¨ë¨¸ë‹ˆ ì‹¤í—˜ì‹¤ - ì˜¤ëŠ˜ì˜ íƒ€ë¡œ ìš´ì„¸</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #fff8f0;
      padding: 2rem;
      max-width: 600px;
      margin: auto;
      line-height: 1.6;
    }
    h1, h2 {
      text-align: center;
    }
    .card {
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      background-color: #ffffff;
    }
    .special-message {
      padding: 1rem;
      margin-top: 2rem;
      background-color: #e3fcef;
      border: 2px dashed #34a853;
      border-radius: 8px;
      font-weight: bold;
      display: none;
    }
    .summary {
      font-size: 1.2rem;
      font-weight: bold;
      text-align: center;
      margin-top: 2rem;
    }
    footer {
      margin-top: 4rem;
      font-size: 0.9rem;
      text-align: center;
      color: #777;
    }
  </style>
</head>
<body>
  <h1>ğŸ§ª ì„¸ì»¨ë¨¸ë‹ˆ ì‹¤í—˜ì‹¤</h1>
  <h2>ğŸ”® ì˜¤ëŠ˜ì˜ íƒ€ë¡œ ìš´ì„¸</h2>
  
  <div id="tarot-results"></div>
  <div class="summary" id="summary"></div>
  <div class="special-message" id="bonus-message"></div>

  <footer>
    ğŸ‘‰ ë³¸ ì„œë¹„ìŠ¤ëŠ” <a href="https://blog.naver.com/greenfrog232" target="_blank">ì„¸ì»¨ë¨¸ë‹ˆ ì‹¤í—˜ì‹¤ ë¸”ë¡œê·¸</a>ì—ì„œ ìš´ì˜ë©ë‹ˆë‹¤.<br>
    ëˆ„ì  ì´ìš©ì: <span id="visitor-count">...</span>
  </footer>

  <script>
    const tarotDeck = {
      "ë°”ë³´": { emoji: "ğŸƒ", ì •ë°©í–¥: { score: 3, message: "ìƒˆë¡œìš´ ì‹œì‘ì´ì—ìš”! ë­ë“ ì§€ í•´ë³¼ ìˆ˜ ìˆëŠ” ì‹œê¸°ì˜ˆìš” ğŸ’«", char: "ì¬í¼ìŠ¨" }, ì—­ë°©í–¥: { score: -3, message: "ìƒê° ì—†ì´ ì§ˆë €ì§€? ì´ì œ í›„íšŒí•  ì¼ë§Œ ë‚¨ì•˜ë‹¤.", char: "ì™“ìŠ¨" } },
      "ë§ˆë²•ì‚¬": { emoji: "âœ¨", ì •ë°©í–¥: { score: 4, message: "ì ì¬ë ¥ì´ í™œì§ ì—´ë¦¬ëŠ” ì‹œì ì´ì—ìš” âœ¨ ë¯¿ê³  í•´ë³´ì„¸ìš©!", char: "ì¬í¼ìŠ¨" }, ì—­ë°©í–¥: { score: -3, message: "í—ˆì„¸ ë¶€ë¦¬ë‹¤ ìë¹ ì§„ë‹¤. ì‹¤ë ¥ë„ ì•ˆ ë˜ë©´ì„œ ê³¼ì‹ í•˜ì§€ ë§ˆ.", char: "ì™“ìŠ¨" } },
      // ... (ìƒëµ: ë‹¤ë¥¸ ì¹´ë“œë“¤ í¬í•¨ë¨)
      "ì„¸ê³„": { emoji: "ğŸŒ", ì •ë°©í–¥: { score: 5, message: "ì™„ì„±, ì„±ì·¨, í†µí•©! ì§€ê¸ˆ ìµœê³ ì˜ˆìš” ğŸŒ", char: "ì¬í¼ìŠ¨" }, ì—­ë°©í–¥: { score: -2, message: "ëë‚œ ì¤„ ì•Œì•˜ì§€? ë¯¸ì™„ì˜ ë§ˆë¬´ë¦¬ì•¼. í•œ ë²ˆ ë” ë´ë´.", char: "ì™“ìŠ¨" } }
    };

    const specialCombos = [
      ["ë°”ë³´", "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´", "íƒœì–‘"],
      ["ì—°ì¸", "ë§ˆë²•ì‚¬", "ì„¸ê³„"],
      ["ì „ì°¨", "í˜", "ì •ì˜"],
      ["ë³„", "ì—¬ì œ", "íƒœì–‘"],
      ["ì£½ìŒ", "ì‹¬íŒ", "ì„¸ê³„"]
    ];

    function displayResults(cards) {
      let totalScore = 0;
      const resultDiv = document.getElementById("tarot-results");
      resultDiv.innerHTML = "";

      cards.forEach(c => {
        const cardData = tarotDeck[c.name];
        const isUpright = c.upright;
        const detail = isUpright ? cardData.ì •ë°©í–¥ : cardData.ì—­ë°©í–¥;
        totalScore += detail.score;
        resultDiv.innerHTML += `<div class='card'>${cardData.emoji} <strong>${c.name}</strong> (${isUpright ? 'ì •ë°©í–¥ â†‘' : 'ì—­ë°©í–¥ â†“'})<br><em>${detail.char} says:</em> ${detail.message}</div>`;
      });

      const summary = document.getElementById("summary");
      if (totalScore >= 9) {
        summary.textContent = "âœ¨ ì¬í¼ìŠ¨ says: ì˜¤ëŠ˜ì€ ìš´ìˆ˜ëŒ€í†µ! ì¢‹ì€ ê¸°íšŒê°€ ë§ì„ ê±°ì˜ˆìš”!";
      } else if (totalScore <= -6) {
        summary.textContent = "ğŸ¦‰ ì™“ìŠ¨ says: ì˜¤ëŠ˜ì€ ì‰½ì§€ ì•Šì€ ë‚ ì´ì—ìš”. ì¹¨ì°©í•˜ê²Œ ëŒ€ì‘í•˜ì„¸ìš”.";
      } else {
        summary.textContent = "ğŸ¤” ì˜¤ëŠ˜ì€ í‰ë²”í•œ í•˜ë£¨! ê·¸ë˜ë„ ë§ˆìŒê°€ì§ì´ ì œì¼ ì¤‘ìš”í•´ìš”!";
      }

      // ë³´ë„ˆìŠ¤ ë©”ì‹œì§€ ì¡°ê±´
      const drawnNames = cards.filter(c => c.upright).map(c => c.name).sort();
      const bonusDiv = document.getElementById("bonus-message");
      specialCombos.forEach(combo => {
        const sortedCombo = combo.slice().sort();
        if (JSON.stringify(drawnNames) === JSON.stringify(sortedCombo)) {
          bonusDiv.style.display = "block";
          bonusDiv.textContent = "ğŸ€ ë„¤ìí´ë¡œë²„ ë“±ì¥! ì˜¤ëŠ˜ ë³µê¶Œ ì‚¬ë„ ë ì§€ë„!?";
        }
      });
    }

    // ìƒ˜í”Œ ì¹´ë“œ ë½‘ê¸° ì‹œë®¬ë ˆì´ì…˜ (í…ŒìŠ¤íŠ¸ìš©)
    const allCardNames = Object.keys(tarotDeck);
    const drawThree = () => {
      const shuffled = allCardNames.sort(() => 0.5 - Math.random());
      return shuffled.slice(0, 3).map(name => ({ name, upright: Math.random() < 0.5 }));
    };
    const drawn = drawThree();
    displayResults(drawn);

    // ë°©ë¬¸ì ìˆ˜ ì¦ê°€ (LocalStorage í™œìš©)
    const countKey = "tarot-visitor-count";
    let count = parseInt(localStorage.getItem(countKey) || "0", 10);
    count += 1;
    localStorage.setItem(countKey, count);
    document.getElementById("visitor-count").textContent = `${count.toLocaleString()}ëª…`;
  </script>
</body>
</html>
