<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ìš´ë¹¨ë°°í‹€íƒ€ë¡œ - ì„¸ì»¨ë¨¸ë‹ˆ AI</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fdfaf5;
      color: #333;
      text-align: center;
      padding: 2rem;
    }

    .card {
      font-size: 1.8rem;
      margin: 1rem;
    }

    #resultArea, #summary {
      margin-top: 1.5rem;
    }

    button {
      font-size: 1rem;
      padding: 0.6rem 1.2rem;
      margin: 0.5rem;
      cursor: pointer;
    }

    a {
      text-decoration: none;
      font-weight: bold;
      color: #0077cc;
    }

    @media (max-width: 600px) {
      body { font-size: 0.9rem; }
      .card { font-size: 1.4rem; }
      button {
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
      }
      h1 { font-size: 1.5rem; }
      p, a { font-size: 0.9rem; }
    }
  </style>
</head>
<body>
  <h1>ğŸ”® ìš´ë¹¨ë°°í‹€íƒ€ë¡œ</h1>
  <p>ì˜¤ëŠ˜ì˜ ìš´ì„ ì„¸ ì¥ì˜ íƒ€ë¡œì¹´ë“œë¡œ í™•ì¸í•´ë³´ì„¸ìš”!</p>
  <p>
    ğŸ“Œ ë” ë§ì€ ëˆ ë˜ëŠ” ì‹¤í—˜ì€  
    <a href="https://blog.naver.com/greenfrog232" target="_blank">
      ì„¸ì»¨ë¨¸ë‹ˆ ì‹¤í—˜ì‹¤ ë¸”ë¡œê·¸
    </a>
    ì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”!
  </p>

  <div id="buttonArea">
    <button onclick="chooseCard('A')">A</button>
    <button onclick="chooseCard('B')">B</button>
    <button onclick="chooseCard('C')">C</button>
  </div>
  <button onclick="location.reload()">ë‹¤ì‹œí•˜ê¸°</button>
  <button onclick="shareResult()">30ì ë§Œì </button>

  <div id="resultArea"></div>
  <div id="summary"></div>

  <script>
    const tarotDeck = {
      "ë¹¡í†µ": { up: { score: 7, emoji: "ğŸ¤¡" }, down: { score: 3, emoji: "ğŸ¤¡" } },
      "ë§ˆë²•ì‚¬": { up: { score: 8, emoji: "ğŸ§™" }, down: { score: 4, emoji: "ğŸ§™" } },
      "ì—¬ì‚¬ì œ": { up: { score: 8, emoji: "ğŸ‘¸" }, down: { score: 5, emoji: "ğŸ‘¸" } },
      "ì—¬í™©ì œ": { up: { score: 9, emoji: "ğŸ‘‘" }, down: { score: 5, emoji: "ğŸ‘‘" } },
      "í™©ì œ": { up: { score: 9, emoji: "ğŸ¦" }, down: { score: 6, emoji: "ğŸ¦" } },
      "êµí™©": { up: { score: 8, emoji: "ğŸ™" }, down: { score: 5, emoji: "ğŸ™" } },
      "ì—°ì¸": { up: { score: 10, emoji: "ğŸ’˜" }, down: { score: 4, emoji: "ğŸ’˜" } },
      "ì „ì°¨": { up: { score: 9, emoji: "ğŸï¸" }, down: { score: 4, emoji: "ğŸï¸" } },
      "í˜,ê¸°ë°±": { up: { score: 8, emoji: "ğŸ’ª" }, down: { score: 4, emoji: "ğŸ’ª" } },
      "ì€ë‘”ì,ì°ë”°": { up: { score: 7, emoji: "ğŸ§˜" }, down: { score: 3, emoji: "ğŸ§˜" } },
      "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´": { up: { score: 10, emoji: "ğŸ¡" }, down: { score: 5, emoji: "ğŸ¡" } },
      "ì •ì˜": { up: { score: 8, emoji: "âš–ï¸" }, down: { score: 5, emoji: "âš–ï¸" } },
      "ë§¤ë‹¬ë¦°ì‚¬ëŒ": { up: { score: 6, emoji: "ğŸ™ƒ" }, down: { score: 2, emoji: "ğŸ™ƒ" } },
      "ì£½ìŒ": { up: { score: 9, emoji: "ğŸ’€" }, down: { score: 3, emoji: "ğŸ’€" } },
      "ì ˆì œ": { up: { score: 8, emoji: "ğŸŒˆ" }, down: { score: 4, emoji: "ğŸŒˆ" } },
      "ì•…ë§ˆ": { up: { score: 6, emoji: "ğŸ˜ˆ" }, down: { score: 3, emoji: "ğŸ˜ˆ" } },
      "The Tower": { up: { score: 7, emoji: "ğŸŒ©ï¸" }, down: { score: 2, emoji: "ğŸŒ©ï¸" } },
      "The Star": { up: { score: 10, emoji: "â­" }, down: { score: 6, emoji: "â­" } },
      "The Moon": { up: { score: 7, emoji: "ğŸŒ™" }, down: { score: 4, emoji: "ğŸŒ™" } },
      "The Sun": { up: { score: 10, emoji: "â˜€ï¸" }, down: { score: 6, emoji: "â˜€ï¸" } },
      "ì‹¬íŒ": { up: { score: 9, emoji: "ğŸ“£" }, down: { score: 5, emoji: "ğŸ“£" } },
      "The World": { up: { score: 10, emoji: "ğŸŒ" }, down: { score: 6, emoji: "ğŸŒ" } }
    };

    const rareCombos = {
      "The Sunâ¬†ï¸-The Worldâ¬†ï¸-ì—°ì¸â¬†ï¸": "ì™„ë²½í•œ ì‚¬ë‘ê³¼ ì„±ê³µ! ì˜¤ëŠ˜ì€ ìš°ì£¼ì˜ ì¶•ë³µì´ í•¨ê»˜í•©ë‹ˆë‹¤ ğŸ’–ğŸŒğŸŒ (ë ˆì–´)",
      "The Towerâ¬‡ï¸-ì•…ë§ˆâ¬‡ï¸-ì£½ìŒâ¬‡ï¸": "ì‹¬ìƒì¹˜ ì•Šì€ ì¡°í•©ì…ë‹ˆë‹¤. ë‚´ë©´ì„ ë‹¨ë‹¨íˆ ë‹¤ì¡ìœ¼ì„¸ìš”. (ë ˆì–´)",
      "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´â¬†ï¸-ì •ì˜â¬†ï¸-ì‹¬íŒâ¬†ï¸": "ìš´ëª…ê³¼ ì •ì˜, ê·¸ë¦¬ê³  ì‹¬íŒ! ë³€í™”ì˜ ì¤‘ì‹¬ì— ìˆìŠµë‹ˆë‹¤ âš–ï¸ğŸŒ€ğŸ“£ (ë ˆì–´)",
      "The Moonâ¬†ï¸-The Starâ¬†ï¸-The Sunâ¬†ï¸": "ë°¤ê³¼ ë‚®ì˜ ê²½ê³„ì—ì„œ ê¸°íšŒê°€ í”¼ì–´ë‚©ë‹ˆë‹¤ ğŸŒŸğŸŒ™â˜€ï¸ (ë ˆì–´)",
      "ë§¤ë‹¬ë¦°ì‚¬ëŒâ¬‡ï¸-ì€ë‘”ì,ì°ë”°â¬‡ï¸-ë¹¡í†µâ¬‡ï¸": "í˜¼ìë§Œì˜ ì„¸ê³„ì— ë¹ ì§ˆ ìˆ˜ ìˆì–´ìš”. ì¡°ìš©í•œ í•˜ë£¨ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. (ë ˆì–´)"
    };

    let bundles = { A: [], B: [], C: [] };
    let selectedSet = null;
    let revealed = false;

    function drawThreeCards() {
      const names = Object.keys(tarotDeck);
      const used = new Set();
      const result = [];

      while (result.length < 3) {
        const name = names[Math.floor(Math.random() * names.length)];
        if (!used.has(name)) {
          const orientation = Math.random() > 0.5 ? "up" : "down";
          result.push({ name, orientation });
          used.add(name);
        }
      }

      return result;
    }

    function prepareDeck() {
      bundles.A = drawThreeCards();
      bundles.B = drawThreeCards();
      bundles.C = drawThreeCards();
    }

    function chooseCard(choice) {
      if (revealed) return;
      revealed = true;
      selectedSet = bundles[choice];
      document.querySelectorAll("#buttonArea button").forEach(btn => btn.disabled = true);

      let upCount = 0, downCount = 0;
      const totalScore = selectedSet.reduce((sum, card) => {
        if (card.orientation === "up") upCount++;
        else downCount++;
        return sum + tarotDeck[card.name][card.orientation].score;
      }, 0);

      const currentComboKey = selectedSet
        .map(c => `${c.name}${c.orientation === "up" ? "â¬†ï¸" : "â¬‡ï¸"}`)
        .sort()
        .join("-");

      let comboMessage = "";
      if (rareCombos[currentComboKey]) {
        comboMessage = rareCombos[currentComboKey];
      } else {
        if (upCount === 3) comboMessage = "ì •ë°©í–¥ 3ì¥! ìš´ì´ ê°•í•˜ê²Œ ë”°ë¼ë¶™ìŠµë‹ˆë‹¤ ğŸ¯";
        else if (downCount === 3) comboMessage = "ëª¨ë‘ ì—­ë°©í–¥... ì˜ˆìƒê³¼ ë‹¤ë¥¸ íë¦„ì´ì—ìš” âš ï¸";
        else if (upCount === 2) comboMessage = "ì •ë°©í–¥ 2ì¥ ğŸ˜Š ìš´ì´ íŠ¸ì´ê¸° ì‹œì‘í–ˆì–´ìš”!";
        else if (downCount === 2) comboMessage = "ì—­ë°©í–¥ 2ì¥. ì‹ ì¤‘í•œ í•˜ë£¨ê°€ ë  ìˆ˜ë„ ìˆì–´ìš”.";
        else comboMessage = "ì •ì—­ ë°˜ë°˜ âš–ï¸ ì˜¤ëŠ˜ì˜ ì„ íƒì´ ê²°ê³¼ë¥¼ ë°”ê¿€ ìˆ˜ë„ ìˆì–´ìš”.";
      }

      let resultHTML = `<h3>ğŸ”® ${choice} ì„ íƒ ê²°ê³¼</h3>`;
      selectedSet.forEach(card => {
        const info = tarotDeck[card.name][card.orientation];
        const arrow = card.orientation === "up" ? "â¬†ï¸" : "â¬‡ï¸";
        const direction = card.orientation === "up" ? "ì •ë°©í–¥" : "ì—­ë°©í–¥";
        resultHTML += `
          <div class="card">${info.emoji} ${card.name} ${arrow} (${direction})<br>
          ì ìˆ˜: ${info.score}ì </div>`;
      });

      resultHTML += `<p><strong>${comboMessage}</strong></p>`;

      const ratingText = totalScore === 30 ? "ì´í•©: 30ì  (ë§Œì !)" :
        totalScore <= 10 ? `ì´í•©: ${totalScore}ì  (ìš´ë³´ì†Œ ã…‹ã…‹ã…‹)` :
        `ì´í•©: ${totalScore}ì  (ìƒìœ„ ${Math.round((totalScore / 30) * 100)}%)`;

      resultHTML += `<p><strong>${ratingText}</strong></p>`;
      document.getElementById("resultArea").innerHTML = resultHTML;

      let summaryHTML = `<h3>ğŸ“Š ë‹¤ë¥¸ ì„ íƒì§€ ì ìˆ˜ ìš”ì•½</h3>`;
      ["A", "B", "C"].forEach(label => {
        if (label === choice) return;
        const score = bundles[label].reduce(
          (sum, c) => sum + tarotDeck[c.name][c.orientation].score,
          0
        );
        const percent = Math.round((score / 30) * 100);
        summaryHTML += `<p>ğŸ”¸ ${label} ì¹´ë“œ: ${score}ì  (${percent}%)</p>`;
      });

      document.getElementById("summary").innerHTML = summaryHTML;
      document.getElementById("buttonArea").style.display = "none";
    }

    function shareResult() {
      if (!selectedSet) return alert("ì¹´ë“œë¥¼ ë¨¼ì € ì„ íƒí•´ ì£¼ì„¸ìš”!");
      const shareText = selectedSet.map(card => {
        const info = tarotDeck[card.name][card.orientation];
        const arrow = card.orientation === "up" ? "â¬†ï¸" : "â¬‡ï¸";
        return `${info.emoji} ${card.name} ${arrow}`;
      }).join(", ");
      const totalScore = selectedSet.reduce((sum, c) => sum + tarotDeck[c.name][c.orientation].score, 0);
      const fullText = `ğŸ”® ìš´ë¹¨ë°°í‹€íƒ€ë¡œ ê²°ê³¼!\n[${shareText}]\nì´ì : ${totalScore}ì \nğŸ‘‰ https://jeffersonwattson.github.io/tarot-ai/`;
      if (navigator.share) {
        navigator.share({ title: "ìš´ë¹¨ë°°í‹€íƒ€ë¡œ", text: fullText, url: window.location.href });
      } else {
        navigator.clipboard.writeText(fullText).then(() => alert("ê²°ê³¼ ë³µì‚¬ë¨ ğŸ“‹"));
      }
    }

    window.onload = prepareDeck;
  </script>

  <!-- âœ… ì¿ íŒ¡ ê´‘ê³  -->
  <script src="https://ads-partners.coupang.com/g.js"></script>
  <script type="text/javascript">
    new PartnersCoupang.G({
      "id":577509,
      "template":"carousel",
      "trackingCode":"AF7035269",
      "width":"800",
      "height":"150",
      "SubParam":"21445789db"
    });
  </script>
</body>
</html>


